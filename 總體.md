## ðŸ”¶ è¡¨ 1ï¼šä¾›æ‡‰å•†èˆ‡æŽ¡è³¼æ¨¡çµ„ï¼ˆSupplier & Purchaseï¼‰

|è³‡æ–™è¡¨åç¨±|ç”¨é€”|
|---|---|
|`Supplier`|å„²å­˜ä¾›æ‡‰å•†åŸºæœ¬è³‡æ–™|
|`Material`|ç‰©æ–™ä¸»æª”ï¼Œå®šç¾©ç‰©æ–™åç¨±ã€å–®ä½ã€åƒ¹æ ¼ç­‰|
|`PurchaseOrder`|æŽ¡è³¼ä¸»æª”ï¼Œè¨˜éŒ„ä¾›æ‡‰å•†èˆ‡è¨‚å–®è³‡è¨Š|
|`PurchaseOrderItem`|æŽ¡è³¼æ˜Žç´°ï¼Œè¨˜éŒ„æ¯ç­†è¨‚å–®çš„ç‰©æ–™èˆ‡æ•¸é‡|

---

## ðŸ”· è¡¨ 2ï¼šè¨­å‚™èˆ‡ç¶­ä¿®æ¨¡çµ„ï¼ˆMachines & Maintenanceï¼‰

|è³‡æ–™è¡¨åç¨±|ç”¨é€”|
|---|---|
|`machines`|æ©Ÿå™¨åŸºæœ¬è³‡æ–™ï¼ˆåç¨±ã€ç‹€æ…‹ã€ä½ç½®ï¼‰|
|`machineRepair`|ç¶­ä¿®ç´€éŒ„èˆ‡ç•°å¸¸å ±å‘Š|
|`machineMaintenanceSchedule`|ä¿é¤ŠæŽ’ç¨‹|
|`machineFiles`|æ©Ÿå™¨ç›¸é—œæª”æ¡ˆï¼ˆä½¿ç”¨èªªæ˜Žæ›¸ç­‰ï¼‰|
|`machineLogs` _(å‚™è¨»)_|æ©Ÿå™¨å³æ™‚é‹è¡Œæ•¸æ“šï¼ˆæº«åº¦ã€é›»å£“ç­‰ï¼‰ï¼ç›®å‰è¨»è§£ä¸­é ç•™è¨­è¨ˆ|

---

## ðŸŸ¢ è¡¨ 3ï¼šäººå“¡èˆ‡å¸³è™Ÿæ¨¡çµ„ï¼ˆPersonnel & Accountsï¼‰

|è³‡æ–™è¡¨åç¨±|ç”¨é€”|
|---|---|
|`Departments`|éƒ¨é–€è³‡æ–™|
|`Employees`|å“¡å·¥åŸºæœ¬è³‡æ–™ï¼Œå«éƒ¨é–€èˆ‡è·ç¨±|
|`LoginHistory`|å“¡å·¥ç™»å…¥ç´€éŒ„ï¼Œç”¨æ–¼å¯©æ ¸èˆ‡å®‰å…¨è¿½è¹¤|

---

## ðŸŸ¡ è¡¨ 4ï¼šç‰©æ–™èˆ‡åº«å­˜æ¨¡çµ„ï¼ˆMaterials & Inventoryï¼‰

|è³‡æ–™è¡¨åç¨±|ç”¨é€”|
|---|---|
|`Material`|ç‰©æ–™ä¸»æª”|
|`MaterialReceipt`|ç‰©æ–™å…¥åº«ç´€éŒ„ï¼ˆåƒè€ƒæŽ¡è³¼åˆ°è²¨ï¼‰|
|`MaterialIssue`|ç‰©æ–™å‡ºåº«ç´€éŒ„ï¼ˆåƒè€ƒç”Ÿç”¢å·¥å–®ï¼‰|
|`BillOfMaterials`|å®šç¾©ç”¢å“ç”¨æ–™çµæ§‹ï¼ˆæ¯å€‹æˆå“æ‰€éœ€ç‰©æ–™ï¼‰|
|`MaterialShortageRequest`|ç‰©æ–™çŸ­ç¼ºç´€éŒ„ï¼Œä¾›æŽ¡è³¼æˆ–èª¿æ’¥ä½¿ç”¨|

---

## ðŸ”´ è¡¨ 5ï¼šç”Ÿç”¢æŽ’ç¨‹æ¨¡çµ„ï¼ˆProduction & Schedulingï¼‰

|è³‡æ–™è¡¨åç¨±|ç”¨é€”|
|---|---|
|`Product`|ç”¢å“ä¸»æª”ï¼Œå®šç¾©å¯ç”Ÿç”¢çš„æˆå“|
|`BillOfMaterials`|ç”¢å“å°æ‡‰çš„ç‰©æ–™çµæ§‹ï¼ˆå·²æ–¼è¡¨ 4 å‡ºç¾ï¼‰|
|`WorkOrder`|ç”Ÿç”¢å·¥å–®ï¼ˆè¨ˆç•«ï¼è¿½è¹¤ç”Ÿç”¢ä»»å‹™ï¼‰|
|`MaterialShortageRequest`|èˆ‡ç”Ÿç”¢ç›¸é—œçš„ç¼ºæ–™ç´€éŒ„ï¼ˆå·²æ–¼è¡¨ 4 å‡ºç¾ï¼‰|
|`ProductionScheduleDetail`|ç”Ÿç”¢æŽ’ç¨‹æ˜Žç´°ï¼Œç´°åˆ†æ¯å€‹å·¥å–®åœ¨æ©Ÿå™¨ä¸Šçš„æŽ’ç¨‹å€æ®µ|


![[Pasted image 20250617095734.png]]


## 1. çµæ§‹èˆ‡ FK é€£çµæª¢æŸ¥

| è¡¨å                           | PK                  | FK æ¬„ä½èˆ‡å°æ‡‰è¡¨                                                            | æœ‰æ•ˆæ€§èªªæ˜Ž |
| ---------------------------- | ------------------- | -------------------------------------------------------------------- | ----- |
| supplier                     | supplier_id         | ç„¡                                                                    | æ­£ç¢º    |
| material                     | material_id         | ç„¡                                                                    | æ­£ç¢º    |
| purchase_order               | order_id            | supplier_id -> supplier                                              | æ­£ç¢º    |
| purchase_order_item          | order_item_id       | order_id -> purchase_order  <br>material_id -> material              | æ­£ç¢º    |
| machines                     | id                  | ç„¡                                                                    | æ­£ç¢º    |
| machine_repair               | id                  | machine_id -> machines  <br>employee_id -> employees                 | æ­£ç¢º    |
| machine_maintenance_schedule | id                  | machine_id -> machines  <br>employee_id -> employees                 | æ­£ç¢º    |
| machine_files                | id                  | machine_id -> machines                                               | æ­£ç¢º    |
| departments                  | department_id       | ç„¡                                                                    | æ­£ç¢º    |
| employees                    | employee_id         | department_id -> departments                                         | æ­£ç¢º    |
| login_history                | id                  | employee_id -> employees                                             | æ­£ç¢º    |
| material_receipt             | receipt_id          | material_id -> material  <br>purchase_order_id -> purchase_order     | æ­£ç¢º    |
| material_issue               | issue_id            | material_id -> material  <br>production_order_id -> production_order | æ­£ç¢º    |
| bill_of_materials            | bom_id              | material_id -> material  <br>product_id -> product                   | æ­£ç¢º    |
| material_shortage_request    | shortage_id         | material_id -> material  <br>production_order_id -> production_order | æ­£ç¢º    |
| product                      | product_id          | ç„¡                                                                    | æ­£ç¢º    |
| production_order             | production_order_id | work_order_id -> work_order                                          | æ­£ç¢º    |
| work_order                   | work_order_id       | product_id -> product                                                | æ­£ç¢º    |
| production_schedule_detail   | schedule_id         | work_order_id -> work_order  <br>machine_id -> machines              | æ­£ç¢º    |


https://dbdiagram.io/d

```dbml
// æ¨¡çµ„ä¸€ï¼šä¾›æ‡‰å•†èˆ‡æŽ¡è³¼ Supplier & Purchase

Table supplier {

Â  supplier_id int [pk, increment]

Â  supplier_name varchar(100)

Â  pm varchar(50)

Â  supplier_phone varchar(20)

Â  supplier_email varchar(100)

Â  supplier_address varchar(200)

}

  

Table material {

Â  material_id int [pk, increment]

Â  material_name varchar(100)

Â  unit varchar(20)

Â  price decimal(10,2)

Â  material_description varchar(200)

}

  

Table purchase_order {

Â  order_id int [pk, increment, note: 'Starts from 1000']

Â  supplier_id int

Â  order_date date

Â  order_status varchar(20)

Â  sub_total decimal(12,2)

}

  

Table purchase_order_item {

Â  order_item_id int [pk, increment]

Â  order_id int

Â  material_id int

Â  quantity int

Â  unit_price decimal(10,2)

}

  

// æ¨¡çµ„äºŒï¼šè¨­å‚™èˆ‡ç¶­ä¿® Machines & Maintenance

Table machines {

Â  id int [pk, increment]

Â  name varchar(50)

Â  mstatus varchar(20)

Â  location varchar(50)

}

  

Table machine_repair {

Â  id int [pk, increment]

Â  machine_id int

Â  description text

Â  repair_time datetime

Â  status varchar(20)

Â  employee_id int

}

  

Table machine_maintenance_schedule {

Â  id int [pk, increment]

Â  machine_id int

Â  schedule_date datetime

Â  description text

Â  status varchar(20)

Â  employee_id int

}

  

Table machine_files {

Â  id int [pk, increment]

Â  machine_id int

Â  file_name varchar(100)

Â  file_path varchar(255)

Â  upload_time datetime

}

  

// æ¨¡çµ„ä¸‰ï¼šäººå“¡èˆ‡å¸³è™Ÿ Personnel & Accounts

Table departments {

Â  department_id int [pk, increment]

Â  department_name varchar(100)

}

  

Table employees {

Â  employee_id int [pk, increment]

Â  name varchar(100)

Â  department_id int

Â  position varchar(50)

Â  contact_info varchar(100)

Â  hire_date date

Â  login_account varchar(50)

Â  password_hash varchar(128)

}

  

Table login_history {

Â  id int [pk, increment]

Â  employee_id int

Â  login_time datetime

}

  

// æ¨¡çµ„å››ï¼šç‰©æ–™èˆ‡åº«å­˜ Materials & Inventory

Table material_receipt {

Â  receipt_id int [pk, increment]

Â  material_id int

Â  purchase_order_id int

Â  quantity numeric(12,4)

Â  unit varchar(8)

Â  receipt_date date

}

  

Table material_issue {

Â  issue_id int [pk, increment]

Â  material_id int

Â  quantity numeric(12,4)

Â  unit varchar(8)

Â  issue_date date

Â  production_order_id int

}

  

Table bill_of_materials {

Â  bom_id int [pk, increment]

Â  product_id int

Â  material_id int

Â  quantity numeric(10,4)

Â  unit varchar(8)

}

  

Table material_shortage_request {

Â  shortage_id int [pk, increment]

Â  production_order_id int

Â  material_id int

Â  required_quantity numeric(12,4)

Â  available_quantity numeric(12,4)

Â  shortage_quantity numeric(12,4)

Â  unit varchar(8)

Â  required_date date

Â  shortage_status varchar(32)

Â  created_at date

}

  

// æ¨¡çµ„äº”ï¼šç”Ÿç”¢èˆ‡æŽ’ç¨‹ Production & Scheduling

Table product {

Â  product_id int [pk, increment]

Â  product_name varchar(100)

Â  category varchar(50)

}

  

// é€™æ˜¯ä½ ç¼ºå°‘çš„ production_order è¡¨ï¼ˆèˆ‡ production_order_id æ¬„ä½å°æ‡‰ï¼‰

Table production_order {

Â  production_order_id int [pk, increment]

Â  work_order_id int

Â  order_date date

Â  status varchar(32)

}

  

Table work_order {

Â  work_order_id int [pk, increment]

Â  product_id int

Â  quantity int

Â  start_date date

Â  end_date date

Â  status varchar(32)

}

  

Table production_schedule_detail {

Â  schedule_id int [pk, increment]

Â  work_order_id int

Â  machine_id int

Â  scheduled_start datetime

Â  scheduled_end datetime

}

  

// å¤–éƒ¨é—œè¯ï¼ˆRefsï¼‰

Ref: purchase_order.supplier_id > supplier.supplier_id

  

Ref: purchase_order_item.order_id > purchase_order.order_id

Ref: purchase_order_item.material_id > material.material_id

  

Ref: machine_repair.machine_id > machines.id

Ref: machine_repair.employee_id > employees.employee_id

Ref: machine_maintenance_schedule.machine_id > machines.id

Ref: machine_maintenance_schedule.employee_id > employees.employee_id

Ref: machine_files.machine_id > machines.id

  

Ref: employees.department_id > departments.department_id

Ref: login_history.employee_id > employees.employee_id

  

Ref: material_receipt.material_id > material.material_id

Ref: material_receipt.purchase_order_id > purchase_order.order_id

  

Ref: material_issue.material_id > material.material_id

Ref: material_issue.production_order_id > production_order.production_order_id

  

Ref: bill_of_materials.material_id > material.material_id

Ref: bill_of_materials.product_id > product.product_id

  

Ref: material_shortage_request.material_id > material.material_id

Ref: material_shortage_request.production_order_id > production_order.production_order_id

  

Ref: production_order.work_order_id > work_order.work_order_id

  

Ref: work_order.product_id > product.product_id

  

Ref: production_schedule_detail.work_order_id > work_order.work_order_id

Ref: production_schedule_detail.machine_id > machines.id
```

---
## ä¸€ã€æ¨¡çµ„ä¸€ï¼šä¾›æ‡‰å•†èˆ‡æŽ¡è³¼ Supplier & Purchase

| ç·¨è™Ÿ  | è³‡æ–™è¡¨åç¨±               | æ¬„ä½åç¨±                 | è³‡æ–™åž‹åˆ¥          | èªªæ˜Ž     | ä¸»éµ  | å¤–éµ                        |
| --- | ------------------- | -------------------- | ------------- | ------ | --- | ------------------------- |
| 1   | supplier            | supplier_id          | int           | ä¾›æ‡‰å•†ID  | âœ”   |                           |
|     |                     | supplier_name        | varchar(100)  | ä¾›æ‡‰å•†åç¨±  |     |                           |
|     |                     | pm                   | varchar(50)   | è² è²¬äºº    |     |                           |
|     |                     | supplier_phone       | varchar(20)   | è¯çµ¡é›»è©±   |     |                           |
|     |                     | supplier_email       | varchar(100)  | è¯çµ¡ä¿¡ç®±   |     |                           |
|     |                     | supplier_address     | varchar(200)  | åœ°å€     |     |                           |
| 2   | material            | material_id          | int           | ç‰©æ–™ID   | âœ”   |                           |
|     |                     | material_name        | varchar(100)  | åç¨±     |     |                           |
|     |                     | unit                 | varchar(20)   | å–®ä½     |     |                           |
|     |                     | price                | decimal(10,2) | åƒ¹æ ¼     |     |                           |
|     |                     | material_description | varchar(200)  | æè¿°     |     |                           |
| 3   | purchase_order      | order_id             | int           | æŽ¡è³¼å–®è™Ÿ   | âœ”   |                           |
|     |                     | supplier_id          | int           | ä¾›æ‡‰å•†ID  |     | â†’ supplier.supplier_id    |
|     |                     | order_date           | date          | æŽ¡è³¼æ—¥æœŸ   |     |                           |
|     |                     | order_status         | varchar(20)   | ç‹€æ…‹     |     |                           |
|     |                     | sub_total            | decimal(12,2) | å°è¨ˆ     |     |                           |
| 4   | purchase_order_item | order_item_id        | int           | æŽ¡è³¼æ˜Žç´°ID | âœ”   |                           |
|     |                     | order_id             | int           | æŽ¡è³¼å–®è™Ÿ   |     | â†’ purchase_order.order_id |
|     |                     | material_id          | int           | ç‰©æ–™ID   |     | â†’ material.material_id    |
|     |                     | quantity             | int           | æ•¸é‡     |     |                           |
|     |                     | unit_price           | decimal(10,2) | å–®åƒ¹     |     |                           |

### æµç¨‹æ‘˜è¦

1. å»ºç«‹ä¾›æ‡‰å•†è³‡æ–™ï¼ˆsupplierï¼‰
    
2. å»ºç«‹ç‰©æ–™è³‡æ–™ï¼ˆmaterialï¼‰
    
3. å»ºç«‹æŽ¡è³¼å–®ï¼ˆpurchase_orderï¼‰ï¼Œé€£çµåˆ°ä¾›æ‡‰å•†
    
4. ç‚ºæ¯å¼µæŽ¡è³¼å–®æ–°å¢žæŽ¡è³¼æ˜Žç´°ï¼ˆpurchase_order_itemï¼‰ï¼Œé€£çµè‡³ç‰©æ–™è³‡æ–™
    

---
## äºŒã€æ¨¡çµ„äºŒï¼šè¨­å‚™èˆ‡ç¶­ä¿® Machines & Maintenance

|   |   |   |   |   |   |   |
|---|---|---|---|---|---|---|
|ç·¨è™Ÿ|è³‡æ–™è¡¨åç¨±|æ¬„ä½åç¨±|è³‡æ–™åž‹åˆ¥|èªªæ˜Ž|ä¸»éµ|å¤–éµ|
|1|machines|id|int|æ©Ÿå°ID|âœ”||
|||name|varchar(50)|æ©Ÿå°åç¨±|||
|||mstatus|varchar(20)|ç‹€æ…‹|||
|||location|varchar(50)|åœ°é»ž|||
|2|machine_repair|id|int|ç¶­ä¿®ç´€éŒ„ID|âœ”||
|||machine_id|int|æ©Ÿå°ID||â†’ machines.id|
|||description|text|ç¶­ä¿®æè¿°|||
|||repair_time|datetime|ç¶­ä¿®æ™‚é–“|||
|||status|varchar(20)|ç‹€æ…‹|||
|||employee_id|int|ç¶­ä¿®äººå“¡ID||â†’ employees.employee_id|
|3|machine_maintenance_schedule|id|int|ä¿é¤ŠæŽ’ç¨‹ID|âœ”||
|||machine_id|int|æ©Ÿå°ID||â†’ machines.id|
|||schedule_date|datetime|æŽ’ç¨‹æ—¥æœŸ|||
|||description|text|æè¿°|||
|||status|varchar(20)|ç‹€æ…‹|||
|||employee_id|int|è² è²¬äººå“¡ID||â†’ employees.employee_id|
|4|machine_files|id|int|æª”æ¡ˆID|âœ”||
|||machine_id|int|æ©Ÿå°ID||â†’ machines.id|
|||file_name|varchar(100)|æª”å|||
|||file_path|varchar(255)|è·¯å¾‘|||
|||upload_time|datetime|ä¸Šå‚³æ™‚é–“|||

### æµç¨‹æ‘˜è¦

1. ç™»éŒ„è¨­å‚™è³‡è¨Šï¼ˆmachinesï¼‰
    
2. è‹¥æ©Ÿå°ç•°å¸¸å¯ç™»è¨˜ç¶­ä¿®ç´€éŒ„ï¼ˆmachine_repairï¼‰
    
3. å¯å®‰æŽ’ä¿é¤ŠæŽ’ç¨‹ï¼ˆmachine_maintenance_scheduleï¼‰
    
4. æ©Ÿå™¨å¯ä¸Šå‚³èªªæ˜Žæ–‡ä»¶æˆ–æ‰‹å†Šï¼ˆmachine_filesï¼‰

---
## ä¸‰ã€æ¨¡çµ„ä¸‰ï¼šäººå“¡èˆ‡å¸³è™Ÿ Personnel & Accounts

|   |   |   |   |   |   |   |
|---|---|---|---|---|---|---|
|ç·¨è™Ÿ|è³‡æ–™è¡¨åç¨±|æ¬„ä½åç¨±|è³‡æ–™åž‹åˆ¥|èªªæ˜Ž|ä¸»éµ|å¤–éµ|
|1|department|department_id|int|éƒ¨é–€ID|âœ”||
|||name|varchar(50)|éƒ¨é–€åç¨±|||
|2|employees|employee_id|int|å“¡å·¥ID|âœ”||
|||name|varchar(100)|å“¡å·¥å§“å|||
|||department_id|int|æ‰€å±¬éƒ¨é–€ID||â†’ department.department_id|
|||position|varchar(50)|è·ç¨±|||
|||contact|varchar(100)|è¯çµ¡æ–¹å¼|||
|||hire_date|date|å…¥è·æ—¥æœŸ|||
|||account|varchar(50)|ç™»å…¥å¸³è™Ÿ|||
|||password|varchar(100)|ç™»å…¥å¯†ç¢¼ï¼ˆåŠ å¯†ï¼‰|||
|3|login_log|log_id|int|ç´€éŒ„ID|âœ”||
|||employee_id|int|å“¡å·¥ID||â†’ employees.employee_id|
|||login_time|datetime|ç™»å…¥æ™‚é–“|||
|||ip_address|varchar(45)|IP ä½å€|||

### æµç¨‹æ‘˜è¦

1. å»ºç«‹éƒ¨é–€èˆ‡å“¡å·¥è³‡æ–™ï¼ˆdepartmentã€employeesï¼‰
    
2. æ¯ä½å“¡å·¥æœ‰å¸³è™Ÿèˆ‡å¯†ç¢¼ï¼ˆaccountã€passwordï¼‰
    
3. å“¡å·¥ç™»å…¥æ™‚ç”¢ç”Ÿè¨˜éŒ„ï¼ˆlogin_logï¼‰

---
## å››ã€æ¨¡çµ„å››ï¼šç”Ÿç”¢ç‰©æ–™èˆ‡åº«å­˜ Production Materials & Inventory

|ç·¨è™Ÿ|è³‡æ–™è¡¨åç¨±|æ¬„ä½åç¨±|è³‡æ–™åž‹åˆ¥|èªªæ˜Ž|ä¸»éµ|å¤–éµ|
|---|---|---|---|---|---|---|
|1|material_stock|stock_id|int|åº«å­˜ç´€éŒ„ID|âœ”||
|||material_id|int|ç‰©æ–™ID||â†’ material.material_id|
|||stock_quantity|numeric(12,4)|åº«å­˜æ•¸é‡|||
|||location|varchar(50)|å„²ä½ä½ç½®|||
|||update_time|datetime|æ›´æ–°æ™‚é–“|||
|2|material_receipt|receipt_id|int|å…¥åº«å–®ID|âœ”||
|||material_id|int|ç‰©æ–™ID||â†’ material.material_id|
|||quantity|numeric(12,4)|å…¥åº«æ•¸é‡|||
|||received_date|datetime|å…¥åº«æ—¥æœŸ|||
|3|material_issue|issue_id|int|å‡ºåº«å–®ID|âœ”||
|||material_id|int|ç‰©æ–™ID||â†’ material.material_id|
|||quantity|numeric(12,4)|å‡ºåº«æ•¸é‡|||
|||issued_date|datetime|å‡ºåº«æ—¥æœŸ|||
|4|bom_structure|bom_id|int|çµæ§‹ç·¨è™Ÿ|âœ”||
|||product_id|int|æˆå“ID|||
|||material_id|int|åŽŸæ–™ID||â†’ material.material_id|
|||quantity_per_unit|numeric(10,2)|æ¯å–®ä½ç”¨é‡|||

### æµç¨‹æ‘˜è¦

1. ç”Ÿç”¢ç‰©æ–™å…¥åº«ï¼ˆmaterial_receiptï¼‰èˆ‡å‡ºåº«ï¼ˆmaterial_issueï¼‰è¨˜éŒ„ç¶­è­·
    
2. ç‰©æ–™åŸºæœ¬è³‡æ–™èˆ‡ BOM çµæ§‹ï¼ˆbom_structureï¼‰å®šç¾©
    
3. æ¯æ¬¡å‡ºå…¥åº«å°‡æ›´æ–° material_stock åº«å­˜è³‡è¨Š

---
## äº”ã€æ¨¡çµ„äº”ï¼šç”Ÿç”¢æŽ’ç¨‹èˆ‡å·¥å–® Production Scheduling & Work Orders

| ç·¨è™Ÿ  | è³‡æ–™è¡¨åç¨±               | æ¬„ä½åç¨±          | è³‡æ–™åž‹åˆ¥        | èªªæ˜Ž     | ä¸»éµ  | å¤–éµ                         |
| --- | ------------------- | ------------- | ----------- | ------ | --- | -------------------------- |
| 1   | work_order          | work_order_id | int         | å·¥å–®ID   | âœ”   |                            |
|     |                     | product_id    | int         | ç”Ÿç”¢ç”¢å“ID |     |                            |
|     |                     | quantity      | int         | ç”Ÿç”¢æ•¸é‡   |     |                            |
|     |                     | due_date      | date        | å®ŒæˆæœŸé™   |     |                            |
|     |                     | status        | varchar(20) | ç‹€æ…‹     |     |                            |
| 2   | production_schedule | schedule_id   | int         | æŽ’ç¨‹ID   | âœ”   |                            |
|     |                     | work_order_id | int         | å·¥å–®ID   |     | â†’ work_order.work_order_id |
|     |                     | machine_id    | int         | è¨­å‚™ID   |     | â†’ machines.id              |
|     |                     | start_time    | datetime    | é–‹å§‹æ™‚é–“   |     |                            |
|     |                     | end_time      | datetime    | çµæŸæ™‚é–“   |     |                            |
|     |                     | operator_id   | int         | æ“ä½œäººå“¡ID |     | â†’ employees.employee_id    |

### æµç¨‹æ‘˜è¦

1. å»ºç«‹å·¥å–®ï¼ˆwork_orderï¼‰åŒ…å«ç”¢å“èˆ‡æ•¸é‡
    
2. å®‰æŽ’ç”Ÿç”¢æŽ’ç¨‹ï¼ˆproduction_scheduleï¼‰æŒ‡å®šè¨­å‚™èˆ‡æ™‚é–“
    
3. ç”Ÿç”¢éŽç¨‹ä¸­é—œè¯äººå“¡èˆ‡è¨­å‚™è³‡è¨Š


----
mermaid.live åŽ»è²¼ä»¥ä¸‹ç¨‹å¼ç¢¼

graph TD

  

Â  Â  %% Module 1: Supplier & Purchase

Â  Â  subgraph M1_SupplierPurchase["æ¨¡çµ„ä¸€ï¼šä¾›æ‡‰å•†èˆ‡æŽ¡è³¼ (è©³ç´°æµç¨‹)"]

Â  Â  Â  Â  A[é–‹å§‹_ä¾›æ‡‰å•†èˆ‡æŽ¡è³¼] --> A1[è¼¸å…¥ä¾›æ‡‰å•†åŸºæœ¬è³‡æ–™]

Â  Â  Â  Â  A1 --> A2(å„²å­˜è‡³ supplier è¡¨)

Â  Â  Â  Â  A2 --> A3[è¼¸å…¥ç‰©æ–™åŸºæœ¬è³‡æ–™]

Â  Â  Â  Â  A3 --> A4(å„²å­˜è‡³ material è¡¨)

Â  Â  Â  Â  A4 --> A5{æ˜¯å¦å»ºç«‹æŽ¡è³¼å–®?}

Â  Â  Â  Â  A5 -- æ˜¯ --> A6[é¸æ“‡ä¾›æ‡‰å•†]

Â  Â  Â  Â  A6 -- é€£çµ supplier.supplier_id --> A2

Â  Â  Â  Â  A6 --> A7[è¼¸å…¥æŽ¡è³¼å–®åŸºæœ¬è³‡è¨Š]

Â  Â  Â  Â  A7 --> A8(å„²å­˜è‡³ purchase_order è¡¨)

Â  Â  Â  Â  A8 --> A9[æ–°å¢žæŽ¡è³¼å–®æ˜Žç´°é …ç›®]

Â  Â  Â  Â  A9 -- é€£çµ purchase_order.order_id --> A8

Â  Â  Â  Â  A9 -- é€£çµ material.material_id --> A4

Â  Â  Â  Â  A9 --> A10[è¼¸å…¥æ•¸é‡èˆ‡å–®åƒ¹]

Â  Â  Â  Â  A10 --> A11(å„²å­˜è‡³ purchase_order_item è¡¨)

Â  Â  Â  Â  A11 --> A12[è¨ˆç®—æŽ¡è³¼å–®å°è¨ˆ]

Â  Â  Â  Â  A12 --> A13(æ›´æ–° purchase_order.sub_total)

Â  Â  Â  Â  A13 --> A14{æ˜¯å¦é‚„æœ‰æŽ¡è³¼æ˜Žç´°?}

Â  Â  Â  Â  A14 -- æ˜¯ --> A9

Â  Â  Â  Â  A14 -- å¦ --> A15[å®ŒæˆæŽ¡è³¼å–®å»ºç«‹]

Â  Â  Â  Â  A5 -- å¦ --> A15

Â  Â  Â  Â  A15 --> A16[çµæŸ_ä¾›æ‡‰å•†èˆ‡æŽ¡è³¼]

Â  Â  end

  

Â  Â  %% Module 3: Personnel & Accounts

Â  Â  subgraph M3_PersonnelAccounts["æ¨¡çµ„ä¸‰ï¼šäººå“¡èˆ‡å¸³è™Ÿ (è©³ç´°æµç¨‹)"]

Â  Â  Â  Â  B[é–‹å§‹_äººå“¡èˆ‡å¸³è™Ÿ] --> B1[è¼¸å…¥éƒ¨é–€åç¨±]

Â  Â  Â  Â  B1 --> B2(å„²å­˜è‡³ department è¡¨)

Â  Â  Â  Â  B2 --> B3[è¼¸å…¥å“¡å·¥åŸºæœ¬è³‡æ–™]

Â  Â  Â  Â  B3 -- é€£çµ department.department_id --> B2

Â  Â  Â  Â  B3 --> B4[ç‚ºå“¡å·¥è¨­å®šç™»å…¥å¸³è™Ÿå¯†ç¢¼]

Â  Â  Â  Â  B4 --> B5(å„²å­˜è‡³ employees è¡¨)

Â  Â  Â  Â  B5 --> B6[å“¡å·¥å˜—è©¦ç™»å…¥ç³»çµ±]

Â  Â  Â  Â  B6 --> B7{é©—è­‰å¸³è™Ÿå¯†ç¢¼?}

Â  Â  Â  Â  B7 -- æˆåŠŸ --> B8[è¨˜éŒ„ç™»å…¥æ™‚é–“èˆ‡IP]

Â  Â  Â  Â  B8 --> B9(å„²å­˜è‡³ login_log è¡¨)

Â  Â  Â  Â  B9 --> B10[ç™»å…¥æˆåŠŸï¼Œé€²å…¥ç³»çµ±]

Â  Â  Â  Â  B7 -- å¤±æ•— --> B11[é¡¯ç¤ºç™»å…¥éŒ¯èª¤è¨Šæ¯]

Â  Â  Â  Â  B10 --> B12[çµæŸ_äººå“¡èˆ‡å¸³è™Ÿ]

Â  Â  Â  Â  B11 --> B6

Â  Â  end

  

Â  Â  %% Module 2: Machines & Maintenance

Â  Â  subgraph M2_MachinesMaintenance["æ¨¡çµ„äºŒï¼šè¨­å‚™èˆ‡ç¶­ä¿® (è©³ç´°æµç¨‹)"]

Â  Â  Â  Â  C[é–‹å§‹_è¨­å‚™èˆ‡ç¶­ä¿®] --> C1[è¼¸å…¥æ©Ÿå°åŸºæœ¬è³‡è¨Š]

Â  Â  Â  Â  C1 --> C2(å„²å­˜è‡³ machines è¡¨)

Â  Â  Â  Â  C2 --> C3{æ©Ÿå°æ˜¯å¦ç•°å¸¸æˆ–éœ€ç¶­ä¿®?}

Â  Â  Â  Â  C3 -- æ˜¯ --> C4[å»ºç«‹ç¶­ä¿®ç´€éŒ„]

Â  Â  Â  Â  C4 -- é€£çµ machines.id --> C2

Â  Â  Â  Â  C4 -- é€£çµ employees.employee_id --> B5(employees)

Â  Â  Â  Â  C4 --> C5[è¼¸å…¥ç¶­ä¿®æè¿°èˆ‡æ™‚é–“]

Â  Â  Â  Â  C5 --> C6(å„²å­˜è‡³ machine_repair è¡¨)

Â  Â  Â  Â  C6 --> C7{ç¶­ä¿®æ˜¯å¦å®Œæˆ?}

Â  Â  Â  Â  C7 -- æ˜¯ --> C8[æ›´æ–°ç¶­ä¿®ç‹€æ…‹ç‚ºå®Œæˆ]

Â  Â  Â  Â  C8 --> C9(æ›´æ–° machine_repair.status)

Â  Â  Â  Â  C3 -- å¦ --> C10{æ˜¯å¦å®‰æŽ’ä¿é¤ŠæŽ’ç¨‹?}

Â  Â  Â  Â  C10 -- æ˜¯ --> C11[å»ºç«‹ä¿é¤ŠæŽ’ç¨‹]

Â  Â  Â  Â  C11 -- é€£çµ machines.id --> C2

Â  Â  Â  Â  C11 -- é€£çµ employees.employee_id --> B5(employees)

Â  Â  Â  Â  C11 --> C12[è¼¸å…¥æŽ’ç¨‹æ—¥æœŸèˆ‡æè¿°]

Â  Â  Â  Â  C12 --> C13(å„²å­˜è‡³ machine_maintenance_schedule è¡¨)

Â  Â  Â  Â  C10 -- å¦ --> C14{æ˜¯å¦ä¸Šå‚³æ©Ÿå™¨æ–‡ä»¶?}

Â  Â  Â  Â  C14 -- æ˜¯ --> C15[ä¸Šå‚³æ–‡ä»¶]

Â  Â  Â  Â  C15 -- é€£çµ machines.id --> C2

Â  Â  Â  Â  C15 --> C16[è¼¸å…¥æª”åèˆ‡è·¯å¾‘]

Â  Â  Â  Â  C16 --> C17(å„²å­˜è‡³ machine_files è¡¨)

Â  Â  Â  Â  C8 --> C18[çµæŸ_è¨­å‚™èˆ‡ç¶­ä¿®]

Â  Â  Â  Â  C13 --> C18

Â  Â  Â  Â  C17 --> C18

Â  Â  Â  Â  C14 -- å¦ --> C18

Â  Â  end

  

Â  Â  %% Module 4: Production Materials & Inventory

Â  Â  subgraph M4_ProductionInventory["æ¨¡çµ„å››ï¼šç”Ÿç”¢ç‰©æ–™èˆ‡åº«å­˜ (è©³ç´°æµç¨‹)"]

Â  Â  Â  Â  D[é–‹å§‹_ç”Ÿç”¢ç‰©æ–™èˆ‡åº«å­˜] --> D1[å¾ž material è¡¨è®€å–ç‰©æ–™è³‡è¨Š]

Â  Â  Â  Â  D1 --> D2[å®šç¾© BOM çµæ§‹ - product_id, material_id, quantity]

Â  Â  Â  Â  D2 -- é€£çµ material.material_id --> D1

Â  Â  Â  Â  D2 --> D3(å„²å­˜è‡³ bom_structure è¡¨)

Â  Â  Â  Â  D3 --> D4{æ˜¯å¦æœ‰ç‰©æ–™å…¥åº«?}

Â  Â  Â  Â  D4 -- æ˜¯ --> D5[é¸æ“‡ç‰©æ–™]

Â  Â  Â  Â  D5 -- é€£çµ material.material_id --> D1

Â  Â  Â  Â  D5 --> D6[è¼¸å…¥å…¥åº«æ•¸é‡]

Â  Â  Â  Â  D6 --> D7(å„²å­˜è‡³ material_receipt è¡¨)

Â  Â  Â  Â  D7 --> D8[æ›´æ–° material_stock åº«å­˜æ•¸é‡]

Â  Â  Â  Â  D8 --> D9(æ›´æ–° material_stock è¡¨)

Â  Â  Â  Â  D4 -- å¦ --> D10{æ˜¯å¦æœ‰ç‰©æ–™å‡ºåº«?}

Â  Â  Â  Â  D10 -- æ˜¯ --> D11[é¸æ“‡ç‰©æ–™]

Â  Â  Â  Â  D11 -- é€£çµ material.material_id --> D1

Â  Â  Â  Â  D11 --> D12[è¼¸å…¥å‡ºåº«æ•¸é‡]

Â  Â  Â  Â  D12 --> D13(å„²å­˜è‡³ material_issue è¡¨)

Â  Â  Â  Â  D13 --> D14[æ›´æ–° material_stock åº«å­˜æ•¸é‡]

Â  Â  Â  Â  D14 --> D15(æ›´æ–° material_stock è¡¨)

Â  Â  Â  Â  D10 -- å¦ --> D16[çµæŸ_ç”Ÿç”¢ç‰©æ–™èˆ‡åº«å­˜]

Â  Â  Â  Â  D9 --> D16

Â  Â  Â  Â  D15 --> D16

Â  Â  end

  

Â  Â  %% Module 5: Production Scheduling & Work Orders

Â  Â  subgraph M5_ProductionWorkOrders["æ¨¡çµ„äº”ï¼šç”Ÿç”¢æŽ’ç¨‹èˆ‡å·¥å–® (è©³ç´°æµç¨‹)"]

Â  Â  Â  Â  E[é–‹å§‹_ç”Ÿç”¢æŽ’ç¨‹èˆ‡å·¥å–®] --> E1[å»ºç«‹å·¥å–® - æŒ‡å®šç”¢å“ã€æ•¸é‡ã€æœŸé™ã€ç‹€æ…‹]

Â  Â  Â  Â  E1 --> E2(å„²å­˜è‡³ work_order è¡¨)

Â  Â  Â  Â  E2 --> E3[æ ¹æ“šå·¥å–®æŽ’å®šç”Ÿç”¢æŽ’ç¨‹]

Â  Â  Â  Â  E3 -- é€£çµ work_order.work_order_id --> E2

Â  Â  Â  Â  E3 --> E4[é¸æ“‡æ“ä½œæ©Ÿå°]

Â  Â  Â  Â  E4 -- é€£çµ machines.id --> C2(machines)

Â  Â  Â  Â  E4 --> E5[é¸æ“‡æ“ä½œäººå“¡]

Â  Â  Â  Â  E5 -- é€£çµ employees.employee_id --> B5(employees)

Â  Â  Â  Â  E5 --> E6[è¨­å®šæŽ’ç¨‹é–‹å§‹èˆ‡çµæŸæ™‚é–“]

Â  Â  Â  Â  E6 --> E7(å„²å­˜è‡³ production_schedule è¡¨)

Â  Â  Â  Â  E7 --> E8[ç›£æŽ§å·¥å–®èˆ‡æŽ’ç¨‹ç‹€æ…‹]

Â  Â  Â  Â  E8 --> E9{å·¥å–®æ˜¯å¦å®Œæˆ?}

Â  Â  Â  Â  E9 -- æ˜¯ --> E10[æ›´æ–°å·¥å–®ç‹€æ…‹ç‚ºå®Œæˆ]

Â  Â  Â  Â  E10 --> E11(æ›´æ–° work_order.status)

Â  Â  Â  Â  E11 --> E12[çµæŸ_ç”Ÿç”¢æŽ’ç¨‹èˆ‡å·¥å–®]

Â  Â  Â  Â  E9 -- å¦ --> E8

Â  Â  end

  

Â  Â  %% Cross-Module Connections (è·¨æ¨¡çµ„é€£æŽ¥)

Â  Â  F(employees) -- åŸ·è¡Œç¶­ä¿®/ä¿é¤Š --> C4

Â  Â  F(employees) -- è² è²¬ä¿é¤Š --> C11

Â  Â  F(employees) -- æ“ä½œç”Ÿç”¢ --> E5

Â  Â  C2(machines) -- ç”¨æ–¼ç¶­ä¿® --> C4

Â  Â  C2(machines) -- ç”¨æ–¼ä¿é¤Š --> C11

Â  Â  C2(machines) -- ç”¨æ–¼ç”Ÿç”¢ --> E4

Â  Â  A4(material) -- ä½œç‚ºåŽŸæ–™ --> D2

Â  Â  A4(material) -- é€²è¡Œå…¥åº« --> D5

Â  Â  A4(material) -- é€²è¡Œå‡ºåº« --> D11

Â  Â  D2(bom_structure) -- å½±éŸ¿å·¥å–®æ‰€éœ€ç‰©æ–™ --> E1

Â  Â  E1(work_order) -- è§¸ç™¼ç‰©æ–™éœ€æ±‚ (å¯é€£çµè‡³D4/D10çš„é‚è¼¯) --> D4